<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My information</title>
    <!--    Bootstrap -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" rel="stylesheet">
    <script crossorigin="anonymous" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script crossorigin="anonymous" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
    <!--    My CSS-->
    <link href="<%=urlPath%>//CSS/forDashboardProducts.css" rel="stylesheet">
    <!--    Iconify Icons -->
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <!--    jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>

    <style>
        div#layout_left label {
            width: 300px;
            height: 300px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        div#layout_left img {
            width: 300px;
            height: 300px;
            object-fit: contain;
        }
    </style>

    <div class="container">
        <div class="row">
            <div class="form-floating d-none">
                <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea2"
                    style="height: 100px">
                    Chào các em,
        Cô gửi yêu cầu lab1, thiết kế giao diện cho chức năng user như sau. Tới 11h59 phút ngày hôm nay, các em nộp lại đường link github dạng: XXX.github.com/lab1.html
        
        User Interface Design Requirements:
        
            : Text Input (Single-line)
            : “Username”
            : Must be unique, maximum 255 characters.
            : A text box with a hint (placeholder) like "Enter your username."
        
        :
        
            : Password Input (Single-line with hidden text)
            : “Password”
            : Minimum password strength check, maximum 255 characters.
            : A text box that hides the text input, with a “Show/Hide” toggle.
        
        :
        
            : Email Input
            : “Email Address”
            : Must be a valid email format and unique, maximum 255 characters.
            : A text box with a placeholder like "Enter your email."
        
         (Optional):
        
            : Text Input (Single-line)
            : “Full Name” (optional)
            : A regular text box, with a placeholder like "Enter your full name."
        
        :
        
            : Dropdown / Select Menu
            : “Role”
            : Required field.
            : A dropdown menu listing the available roles fetched from the system (e.g., Admin, User, etc.).
        
        :
        
            : File Upload or URL Input (for image URL)
            : “Profile Picture”
            : An upload button or URL field that allows users to upload or enter a URL for their profile picture, with a preview box for the image.
        
         (Read-only):
        
            : Text or Date Display (Read-only)
            : “Account Created At”
            : Automatically populated field, no input needed. Display this as a timestamp or date.
        
         (Read-only):
        
            : Text or Date Display (Read-only)
            : “Last Updated At”
            : Automatically updated field when the user’s information is edited. Display this as a timestamp or date.
        
        :
        
            : Button
            : “Create Account” / “Save Changes” (depending on context)
            : A primary action button that submits the form. Ensure it's disabled until all required fields are validated.
        
         (Optional):
        
            : Button
            : “Cancel”
            : A secondary action button that cancels the form submission and returns the user to the previous page.
        
        Additional Considerations:
        
            : Use inline validation messages under each input field for errors like "Username is already taken" or "Invalid email format."
            : Ensure the form is responsive, working well on both desktop and mobile.
               
                </textarea>
                <label for="floatingTextarea2">Comments</label>
            </div>

            <p class="fs-1 my-3">
                My information
            </p>
            <hr class="mb-5">

            <div id="layout_left" class="col-lg-3 col-md-6 col-12">
                <input type="file" class="d-none" id="inp_avatar" aria-describedby="inputGroupFileAddon04"
                    aria-label="Upload">
                <label for="inp_avatar" class="bg-body-secondary mx-auto rounded-circle shadow-sm">
                    <img id="img_avatar" src="" alt="" srcset="">
                </label>
            </div> <!-- End layout left -->

            <div class="col-lg-9 col-md-6 col-12 my-auto">
                <div class="container-fluid">
                    <div class="row">
                        <div class="mb-3 col-md-6 col-12">
                            <div class="input-group">
                                <span class="input-group-text" id="basic-addon1">Username</span>
                                <input id="inp_username" type="text" class="form-control"
                                    placeholder="Enter your username" aria-label="Username"
                                    aria-describedby="basic-addon1" maxlength="255">
                            </div>
                        </div><!-- End username -->

                        <div class="mb-3 col-md-6 col-12">
                            <div class="input-group">
                                <span class="input-group-text" id="basic-addon1">Password</span>
                                <input id="inp_password" type="password" class="form-control"
                                    placeholder="Enter your password" aria-label="Username"
                                    aria-describedby="basic-addon1" maxlength="255">
                                <button id="togglePassword" class="input-group-text bg-light">
                                    <iconify-icon id="icon_password" icon="mdi:show" width="24"
                                        height="24"></iconify-icon>
                                </button>
                            </div>
                        </div><!-- End password -->

                        <div class="mb-3 col-md-6 col-12">
                            <div class="input-group">
                                <span class="input-group-text" id="basic-addon1">Email Address</span>
                                <input id="inp_email" type="email" class="form-control" placeholder="Enter your email"
                                    aria-label="Username" aria-describedby="basic-addon1" maxlength="255">
                            </div>
                        </div> <!-- End email -->

                        <div class="mb-3 col-md-6 col-12">
                            <div class="input-group">
                                <span class="input-group-text" id="basic-addon1">Full Name</span>
                                <input id="inp_fullname" type="text" class="form-control"
                                    placeholder="Enter your full name" aria-label="Username"
                                    aria-describedby="basic-addon1" maxlength="255">
                            </div>
                        </div><!-- End fullname -->

                        <div class="mb-3 col-md-6 col-12">
                            <div class="input-group mb-3">
                                <label class="input-group-text" for="inputGroupSelect01">Role</label>
                                <select id="select_role" class="form-select" aria-label="Default select example"
                                    required>
                                    <option selected>Role</option>
                                    <option value="admin">ADMIN</option>
                                    <option value="user">USER</option>
                                    <option value="other">OTHER</option>
                                </select>
                            </div>
                        </div>

                        <div class="mb-3 col-md-6 col-12">
                            <!-- Automatically populated field, no input needed. Display this as a timestamp or date. -->
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="basic-addon1">Account Created At</span>
                                <input id="inp_created" type="date" class="form-control" placeholder=""
                                    aria-label="Example text with button addon" aria-describedby="button-addon1">
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- End layout right -->

        </div>

        <hr class="mt-5 mb-3">

    </div>

    <div class="container">
        <div class="row d-flex justify-content-end">
            <!-- A primary action button that submits the form. Ensure it's disabled until all required fields are validated. -->
            <button id="btn_create" type="button" class="col-lg-2 col-md-4 col-12 btn btn-primary mx-2">
                Create Account
            </button>
            <button id="btn_save" type="button" class="col-lg-2 col-md-4 col-12 btn btn-outline-primary mx-2">
                Save Changes
            </button>
            <button id="btn_cancel" type="button" class="col-lg-2 col-md-4 col-12 btn btn-danger mx-2">
                Cancel
            </button>
        </div>
    </div>

    <script>
        $(document).ready(function () {

            let index = 0;

            loadData()
            $('#togglePassword').on('click', function () {
                togglePassword();
            });
            renderLayout()

            function loadData() {
                $.getJSON('../information.json', function (data) {

                    $('img#img_avatar').attr('src', `../images/${data.users[index].avatar}`)
                    $('input#inp_username').attr('value', `${data.users[index].username}`)
                    $('input#inp_password').attr('value', `${data.users[index].password}`)
                    $('input#inp_email').attr('value', `${data.users[index].email}`)
                    $('input#inp_fullname').attr('value', `${data.users[index].fullname}`)
                    $('#select_role').val(`${data.users[index].role}`)
                    $('input#inp_created').attr('value', `${data.users[index].createAt}`)

                })
            }

            function togglePassword() {
                const passwordInput = $('#inp_password');
                const icon = $('#icon_password');
                const type = passwordInput.attr('type') === 'password' ? 'text' : 'password';

                // Toggle type attribute between password and text
                passwordInput.attr('type', type);

                // Toggle icon between mdi:hide and mdi:show
                if (type === 'text') icon.attr('icon', 'mdi:hide');
                else icon.attr('icon', 'mdi:show');
            }

            function renderLayout() {
                if (index >= 0) {
                    $('button#btn_create').hide()
                    $('button#btn_save').show()
                } else {
                    $('button#btn_create').show()
                    $('button#btn_save').hide()
                }
            }
        })
    </script>
</body>

</html>